(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),l=n.n(o),c=(n(71),n(28)),u=n.n(c),i=n(43),s=n(62),d=n.n(s),f=n(3),m=n(2),p=n(14),v=n.n(p);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=function(){var e=b(Object(f.b)(),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=new v.a;e.addEventListener("message",(function(t){var r=t.data;n({type:"setPing",value:r.payload.duration}),e.terminate()})),e.postMessage({api:"ping",payload:{host:t.host}})}),[]),a.a.createElement("div",{className:"ping"},a.a.createElement("h3",null,"Testing Ping Speed ..."))};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=function(){var e=h(Object(f.b)(),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=new v.a;e.addEventListener("message",(function(t){var r=t.data;n({type:"setDownload",value:r.payload.speed}),e.terminate()})),e.postMessage({api:"download",payload:{host:t.host}})}),[]),a.a.createElement("div",{className:"download"},a.a.createElement("h3",null,"Testing Download Speed ..."))};function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=function(){var e=g(Object(f.b)(),2),t=e[0],n=e[1];return Object(r.useEffect)((function(){var e=new v.a;e.addEventListener("message",(function(t){var r=t.data;n({type:"setUpload",value:r.payload.speed}),e.terminate()})),e.postMessage({api:"upload",payload:{host:t.host}})}),[]),a.a.createElement("div",{className:"upload"},a.a.createElement("h3",null,"Testing Upload Speed ..."))},w=n(64),j=n.n(w),N=n(65),S=n.n(N),A=function(e){return e&&S()(e,1)};function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=function(){var e,t=D(Object(f.b)(),2),n=t[0],r=t[1];return a.a.createElement("div",{className:"screen"},a.a.createElement("div",{className:"result"},a.a.createElement("h1",null,"Result"),a.a.createElement("div",{className:"information"},a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"name"},"Ping"),a.a.createElement("div",{className:"value"},(e=n.ping,j()(e)))),a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"name"},"Download"),a.a.createElement("div",{className:"value"},A(n.download))),a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"name"},"Upload"),a.a.createElement("div",{className:"value"},A(n.upload)))),a.a.createElement("button",{className:"primary-button",onClick:function(){return r({type:"ready"})}},"Test Again")))};n(118);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(){var e=x(Object(f.b)(),2),t=e[0],n=e[1],o=t.step,l=function(e){var t=x(Object(r.useState)(e.host||""),2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function(){var e,t,n;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(fetch("/agent.txt"));case 2:if((e=r.sent).ok){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,u.a.awrap(e.text());case 7:if(t=r.sent,n=t.trim()){r.next=11;break}return r.abrupt("return");case 11:a(n);case 12:case"end":return r.stop()}}))}()}),[]),[[n,a]]}({host:t.host}),c=x(l,1),s=x(c[0],2),p=s[0],v=s[1],b=o!==m.d.READY;return a.a.createElement(i.a,{transitionName:"transition-view"},o!==m.d.FINISH?a.a.createElement("div",{className:d()("screen",{testing:b}),key:"control"},a.a.createElement("div",{className:"control"},a.a.createElement("h1",null,a.a.createElement("a",{href:m.c,target:"_blank"},"Speed Test"),a.a.createElement("a",{className:"author",href:m.a,target:"_blank"},"\xa9yelo")),a.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("host");n({type:"start",host:t})}},a.a.createElement("input",{className:"host",name:"host",autoComplete:"off",placeholder:"Agent IP:PORT",value:p,onChange:function(e){return v(e.target.value)},disabled:b}),a.a.createElement("button",{className:"primary-button",type:"submit",disabled:b},b?"Testing...":"Start"))),b?a.a.createElement("div",{className:"status"},o===m.d.PING?a.a.createElement(y,null):o===m.d.DOWNLOAD?a.a.createElement(E,null):o===m.d.UPLOAD?a.a.createElement(O,null):null):null,a.a.createElement(i.a,{transitionName:"transition-error"},t.error?a.a.createElement("div",{className:"error"},t.error):null)):a.a.createElement(P,{key:"result"}))},T=function(){return a.a.createElement(f.a,null,a.a.createElement(I,null))};l.a.render(a.a.createElement(T,null),document.getElementById("app"))},14:function(e,t,n){e.exports=function(){return new Worker(n.p+"054046e6e08fdd22bc51.worker.js")}},2:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(63),a="https://github.com/imyelo/speedtest",o="https://yelo.cc",l=n.n(r)()({READY:null,PING:null,DOWNLOAD:null,UPLOAD:null,FINISH:null}),c=function(){var e={HOST:"host"};for(var t in e)e[t]="".concat("speedtest:").concat(e[t]);return e}()},3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(0),a=n(42),o=n.n(a),l=n(2);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={step:l.d.READY,host:o()(l.b.HOST),ping:null,download:null,upload:null,error:null},s=function(e,t){var n=function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},r=function(e){return n({error:e,step:l.d.READY})};switch(t.type){case"ready":return n({step:l.d.READY});case"start":return t.host?(o()(l.b.HOST,t.host),n({error:null,host:t.host,step:l.d.PING})):r("Please enter your agent's address.");case"setHost":return n({ping:t.value});case"setPing":return t.value?n({ping:t.value,step:l.d.DOWNLOAD}):r("Unable to connect to the server.");case"setDownload":return t.value?n({download:t.value,step:l.d.UPLOAD}):r("Unable to connect to the server.");case"setUpload":return t.value?n({upload:t.value,step:l.d.FINISH}):r("Unable to connect to the server.");default:throw new Error("Unexpected action")}},d=Object(r.createContext)(),f=function(t){var n=t.children,a=Object(r.useReducer)(s,i);return e.createElement(d.Provider,{value:a},n)},m=function(){return Object(r.useContext)(d)}}).call(this,n(0))},66:function(e,t,n){e.exports=n(119)},71:function(e,t,n){}},[[66,2,0]]]);